openapi: 3.0.0
info:
  title: Innerspace Test API
  version: 1.0.0
  description: API for user and weather data

servers:
  - url: http://localhost:3000
    description: Local development server

paths:
  /api/user:
    get:
      operationId: getUser
      summary: Get user profile
      tags:
        - User
      responses:
        "200":
          description: User profile data
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/User"
        "404":
          description: User not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"

  /api/data:
    get:
      operationId: getWeatherData
      summary: Get weather data
      tags:
        - Data
      responses:
        "200":
          description: Weather data in CSV format
          content:
            text/csv:
              schema:
                type: string
                example: "date,city,temperature_c,humidity,precip_mm,wind_kph\n2023-01-01,London,7.2,82,0.0,12.4"
        "404":
          description: Data not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"

components:
  schemas:
    User:
      type: object
      required:
        - id
        - name
        - surname
        - email
        - phone
        - hometown
        - job
        - birth_date
        - profile_image
        - bio
        - mood
      properties:
        id:
          type: integer
          example: 1
        name:
          type: string
          example: "John"
        surname:
          type: string
          example: "Doe"
        email:
          type: string
          format: email
          example: "john.doe@example.com"
        phone:
          type: string
          example: "+1 (555) 123-4567"
        hometown:
          type: string
          example: "London"
        job:
          type: string
          example: "Software Engineer"
        birth_date:
          type: string
          format: date
          example: "1990-01-01"
        profile_image:
          type: string
          example: "/user/profile-image.jpg"
        bio:
          type: string
          example: "Passionate about technology and innovation."
        mood:
          type: string
          example: "happy"

    WeatherData:
      type: object
      required:
        - date
        - city
        - temperature_c
        - humidity
        - precip_mm
        - wind_kph
      properties:
        date:
          type: string
          format: date-time
          example: "2023-01-01T00:00:00Z"
        city:
          type: string
          example: "London"
        temperature_c:
          type: number
          format: float
          example: 7.2
        humidity:
          type: number
          format: float
          example: 82.0
        precip_mm:
          type: number
          format: float
          example: 0.0
        wind_kph:
          type: number
          format: float
          example: 12.4

    Error:
      type: object
      properties:
        error:
          type: object
          additionalProperties: true
